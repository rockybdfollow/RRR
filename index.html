<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Rocky SMM â€” Pro Panel (Client + Admin)</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg-1:#06050a; --bg-2:#0f1420;
    --glass: rgba(255,255,255,0.04);
    --glass-border: rgba(255,255,255,0.06);
    --accent1:#7b61ff; --accent2:#4cc3ff;
    --accent-grad: linear-gradient(90deg,var(--accent1),var(--accent2));
    --muted:#b8c0d8;
    --success:#3be08a; --danger:#ff6b6b;
    --card-shadow: 0 10px 30px rgba(2,6,23,0.6);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;color:#eaf2ff;background:
    radial-gradient(900px 400px at 10% 10%, rgba(123,97,255,0.08), transparent 8%),
    radial-gradient(700px 300px at 90% 90%, rgba(76,195,255,0.06), transparent 8%),
    linear-gradient(180deg,var(--bg-1),var(--bg-2)); -webkit-font-smoothing:antialiased;}
  /* Topbar */
  .top{
    display:flex;justify-content:space-between;align-items:center;padding:18px 24px;border-bottom:1px solid rgba(255,255,255,0.02);
  }
  .brand{display:flex;gap:12px;align-items:center}
  .logo{width:52px;height:52px;border-radius:12px;background:linear-gradient(135deg,var(--accent1),#a066ff 60%,var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:800;color:#fff}
  .brand h1{font-size:18px;margin:0}
  .brand p{margin:0;color:var(--muted);font-size:13px}
  .top-actions{display:flex;gap:10px;align-items:center}
  .btn{padding:8px 12px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
  .btn-ghost{background:transparent;border:1px solid var(--glass-border);color:var(--muted)}
  .btn-primary{background:var(--accent-grad);color:#051025;box-shadow:0 10px 30px rgba(123,97,255,0.12)}

  /* layout */
  .wrap{display:grid;grid-template-columns:1fr 360px;gap:20px;padding:22px}
  @media(max-width:980px){ .wrap{grid-template-columns:1fr} .right-panel{order:-1} }

  /* cards */
  .cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:18px}
  .card{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:14px;padding:16px;border:1px solid var(--glass-border);box-shadow:var(--card-shadow);backdrop-filter:blur(8px);position:relative;min-height:150px;display:flex;flex-direction:column;justify-content:space-between;transition:transform .28s,box-shadow .28s;
  }
  .card:hover{transform:translateY(-8px);box-shadow:0 24px 60px rgba(0,0,0,0.6)}
  .card h3{margin:0;font-size:16px}
  .price{font-weight:800;font-size:20px;color:transparent;background:linear-gradient(90deg,#fff,#fff);-webkit-background-clip:text}
  .sub{color:var(--muted);font-size:13px;margin-top:6px}
  .buy{margin-top:10px;border-radius:10px;padding:10px 12px;border:none;background:var(--accent-grad);font-weight:800;color:#041026;cursor:pointer}

  .badge-pop{position:absolute;right:12px;top:12px;background:linear-gradient(90deg,#ff7a2b,#ff3f7a);color:#fff;padding:6px 10px;border-radius:999px;font-weight:800;font-size:12px;box-shadow:0 8px 26px rgba(255,90,60,0.12);}

  /* right panel */
  .right-panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:14px;padding:18px;border:1px solid var(--glass-border);box-shadow:var(--card-shadow);backdrop-filter:blur(8px)}
  .right-panel h2{margin:0 0 10px 0}
  .right-panel .muted{color:var(--muted);font-size:13px}
  .input{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);background:#0b0d13;color:#fff;margin-top:10px}

  /* admin floating button */
  .admin-floating{
    position:fixed;right:18px;bottom:18px;background:linear-gradient(90deg,var(--accent1),#a066ff);padding:12px 14px;border-radius:12px;color:white;font-weight:800;cursor:pointer;box-shadow:0 12px 40px rgba(76,195,255,0.06)
  }

  /* modal */
  .modal-wrap{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(3,6,10,0.6);z-index:60}
  .modal{background:#0f1220;border-radius:12px;padding:18px;width:360px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 30px 80px rgba(2,6,23,0.8)}
  .modal h3{margin:0 0 10px 0}
  .modal .small{color:var(--muted);font-size:13px}
  .modal .row{display:flex;gap:10px;margin-top:12px}

  /* admin dashboard */
  .admin-wrap{display:none;padding:22px}
  .admin-top{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:14px}
  .admin-controls{display:flex;gap:8px;align-items:center}
  .table{width:100%;border-collapse:collapse;margin-top:12px}
  .table th, .table td{padding:10px 8px;border-bottom:1px dashed rgba(255,255,255,0.03);text-align:left;font-size:14px}
  .chip{padding:6px 8px;border-radius:8px;font-weight:700;font-size:13px}
  .chip.pending{background:rgba(255,255,255,0.03);color:var(--muted)}
  .chip.completed{background:linear-gradient(90deg,#7be28a,#3bbd70);color:#052612}
  .chip.rejected{background:linear-gradient(90deg,#ff8a8a,#ff5f5f);color:#340808}

  .small-muted{color:var(--muted);font-size:13px}
  .actions-td button{margin-right:6px;padding:6px 8px;border-radius:8px;border:none;cursor:pointer}

  /* export & empty */
  .tools{display:flex;gap:8px;align-items:center}

  /* toast */
  .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:30px;background:linear-gradient(90deg,var(--accent1),var(--accent2));padding:12px 18px;border-radius:12px;color:#041026;font-weight:700;box-shadow:0 8px 30px rgba(79,63,255,0.18);z-index:80}

</style>
</head>
<body>

  <!-- Top -->
  <div class="top">
    <div class="brand">
      <div class="logo">RD</div>
      <div>
        <h1>Rocky SMM â€” Pro</h1>
        <p class="small-muted">Fast â€¢ Secure â€¢ Neon UI</p>
      </div>
    </div>

    <div class="top-actions">
      <button class="btn btn-ghost" onclick="showHelp()">Help</button>
      <button class="btn btn-primary" onclick="openAdminModal()">Admin Panel</button>
    </div>
  </div>

  <!-- Main layout -->
  <div class="wrap">
    <!-- left: client -->
    <div>
      <h2>Followers Packages</h2>
      <p class="small-muted">Select package â†’ enter profile link â†’ make bKash payment â†’ submit TRX ID</p>

      <div class="cards" id="cards">
        <div class="card" data-name="100 Followers" data-price="10">
          <div>
            <h3>100 Followers</h3>
            <div class="price">à§³10</div>
            <div class="sub">Delivery: 0â€“1 hrs</div>
          </div>
          <div>
            <button class="buy" onclick="pickPackage(this)">Buy</button>
          </div>
        </div>

        <div class="card" data-name="500 Followers" data-price="50">
          <div>
            <h3>500 Followers</h3>
            <div class="price">à§³50</div>
            <div class="sub">Delivery: 0â€“6 hrs</div>
          </div>
          <div>
            <button class="buy" onclick="pickPackage(this)">Buy</button>
          </div>
        </div>

        <div class="card" data-name="1000 Followers" data-price="99">
          <div class="badge-pop">ðŸ”¥ Popular</div>
          <div>
            <h3>1,000 Followers</h3>
            <div class="price">à§³99</div>
            <div class="sub">High demand â€” fast delivery</div>
          </div>
          <div>
            <button class="buy" onclick="pickPackage(this)">Buy</button>
          </div>
        </div>

        <div class="card" data-name="10000 Followers" data-price="990">
          <div>
            <h3>10,000 Followers</h3>
            <div class="price">à§³990</div>
            <div class="sub">Bulk delivery: 0â€“24 hrs</div>
          </div>
          <div>
            <button class="buy" onclick="pickPackage(this)">Buy</button>
          </div>
        </div>
      </div>

      <!-- order area -->
      <div class="right-panel" style="margin-top:20px;">
        <h2>Place Order</h2>
        <div id="orderSummary" class="small-muted">No package selected</div>

        <input id="cusName" class="input" placeholder="Your name (optional)" />
        <input id="cusPhone" class="input" placeholder="Phone (e.g. 01XXXXXXXXX)" />
        <input id="cusLink" class="input" placeholder="Facebook/Instagram profile link (required)" />
        <div style="display:flex;gap:8px;margin-top:10px">
          <div style="flex:1;">
            <input id="cusTxn" class="input" placeholder="bKash Transaction ID (required)" />
          </div>
          <div style="width:120px">
            <button class="btn btn-primary" style="width:100%;height:44px" onclick="submitOrder()">Submit</button>
          </div>
        </div>

        <div style="margin-top:12px" class="small-muted">
          <div>Send Money: <b>01765568009</b></div>
          <div>Payment: <b>01405167028</b></div>
        </div>
      </div>
    </div>

    <!-- right: small panel summary -->
    <aside class="right-panel">
      <h2>Quick Summary</h2>
      <div style="display:flex;gap:12px;align-items:center;margin-top:10px">
        <div style="flex:1">
          <div class="small-muted">Total Orders</div>
          <div id="statTotal" style="font-weight:800;font-size:20px">0</div>
        </div>
        <div style="flex:1">
          <div class="small-muted">Pending</div>
          <div id="statPending" style="font-weight:800;font-size:20px">0</div>
        </div>
      </div>

      <div style="margin-top:16px">
        <div class="small-muted">Recent Orders</div>
        <div id="recentList" style="margin-top:10px;display:flex;flex-direction:column;gap:8px"></div>
      </div>
    </aside>
  </div>

  <!-- Admin modal (pin) -->
  <div id="adminModal" class="modal-wrap">
    <div class="modal">
      <h3>Admin Login</h3>
      <div class="small">Enter admin PIN to access dashboard</div>
      <input id="adminPin" class="input" placeholder="Enter PIN" style="margin-top:12px" />
      <div class="row" style="justify-content:flex-end">
        <button class="btn btn-ghost" onclick="closeAdminModal()">Cancel</button>
        <button class="btn btn-primary" onclick="verifyPin()">Enter</button>
      </div>
    </div>
  </div>

  <!-- Admin Dashboard (full page) -->
  <div id="adminPage" class="admin-wrap">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <h2>Admin Dashboard</h2>
      <div style="display:flex;gap:8px">
        <button class="btn btn-ghost" onclick="closeAdminPage()">Close</button>
      </div>
    </div>

    <div class="admin-top">
      <div class="tools">
        <select id="filterStatus" class="input" style="width:180px" onchange="renderAdminTable()">
          <option value="All">All Orders</option>
          <option value="Pending">Pending</option>
          <option value="Completed">Completed</option>
          <option value="Rejected">Rejected</option>
        </select>

        <input id="searchBox" class="input" placeholder="Search by name / phone / package / trx / link" style="width:320px" oninput="renderAdminTable()">
      </div>

      <div style="display:flex;gap:8px">
        <button class="btn btn-primary" onclick="exportCSV()">Export CSV</button>
        <button class="btn btn-ghost" onclick="clearAllOrders()">Clear All</button>
      </div>
    </div>

    <div style="margin-top:12px;overflow:auto">
      <table class="table" id="ordersTable">
        <thead>
          <tr>
            <th>#</th><th>Package</th><th>Price</th><th>Profile Link</th><th>Txn ID</th><th>Name</th><th>Phone</th><th>Status</th><th>Date</th><th>Action</th>
          </tr>
        </thead>
        <tbody id="ordersTbody"></tbody>
      </table>
    </div>
  </div>

  <!-- admin floating -->
  <div class="admin-floating" onclick="openAdminModal()" title="Open Admin Panel">Admin</div>

  <!-- toast holder -->
  <div id="toastWrap"></div>

<script>
  /* ---------- state & storage ---------- */
  const STORAGE_KEY = 'rd_smm_orders_v2';
  let orders = loadOrders(); // array of order objects

  // init UI numbers
  function initUI(){
    updateStats();
    renderRecent();
    renderAdminTable();
  }

  function loadOrders(){
    try{
      const raw = localStorage.getItem(STORAGE_KEY);
      return raw ? JSON.parse(raw) : [];
    }catch(e){
      return [];
    }
  }
  function saveOrders(){
    localStorage.setItem(STORAGE_KEY, JSON.stringify(orders));
    updateStats();
    renderRecent();
    renderAdminTable();
  }

  function showToast(msg){
    const t = document.createElement('div'); t.className='toast'; t.textContent=msg;
    document.body.appendChild(t);
    setTimeout(()=> t.style.opacity='0',2200);
    setTimeout(()=> t.remove(),2600);
  }

  /* ---------- pick package ---------- */
  let selected = null;
  function pickPackage(btn){
    const card = btn.closest('.card');
    const name = card.dataset.name;
    const price = card.dataset.price;
    selected = {name, price};
    document.getElementById('orderSummary').innerHTML = `<b>${name}</b> â€¢ à§³${price}`;
    document.getElementById('cusLink').focus();
    showToast(`${name} à¦¸à¦¿à¦²à§‡à¦•à§à¦Ÿ à¦•à¦°à¦¾ à¦¹à§Ÿà§‡à¦›à§‡`);
  }

  /* ---------- submit order ---------- */
  function submitOrder(){
    const link = document.getElementById('cusLink').value.trim();
    const txn = document.getElementById('cusTxn').value.trim();
    if(!selected){
      alert('à¦ªà§à¦°à¦¥à¦®à§‡ à¦à¦•à¦Ÿà¦¿ à¦ªà§à¦¯à¦¾à¦•à§‡à¦œ à¦¸à¦¿à¦²à§‡à¦•à§à¦Ÿ à¦•à¦°à§à¦¨');
      return;
    }
    if(!link){
      alert('Profile link à¦¦à¦¿à¦¨');
      return;
    }
    if(!txn){
      alert('Transaction ID à¦¦à¦¿à¦¨');
      return;
    }
    const order = {
      id: 'ord_'+Date.now().toString(36),
      package: selected.name,
      price: Number(selected.price),
      link,
      txn,
      name: document.getElementById('cusName').value.trim(),
      phone: document.getElementById('cusPhone').value.trim(),
      status: 'Pending',
      created_at: new Date().toLocaleString()
    };
    orders.push(order);
    saveOrders();
    // reset form
    selected = null;
    document.getElementById('orderSummary').textContent = 'No package selected';
    document.getElementById('cusName').value='';
    document.getElementById('cusPhone').value='';
    document.getElementById('cusLink').value='';
    document.getElementById('cusTxn').value='';
    showToast('à¦…à¦°à§à¦¡à¦¾à¦° à¦°à§‡à¦•à¦°à§à¦¡ à¦•à¦°à¦¾ à¦¹à§Ÿà§‡à¦›à§‡ â€” Pending');
  }

  /* ---------- stats & recent ---------- */
  function updateStats(){
    document.getElementById('statTotal').textContent = orders.length;
    const pending = orders.filter(o => o.status === 'Pending').length;
    document.getElementById('statPending').textContent = pending;
  }

  function renderRecent(){
    const recent = orders.slice(-4).reverse();
    const box = document.getElementById('recentList'); box.innerHTML='';
    if(recent.length === 0){ box.innerHTML = '<div class="small-muted">No recent orders</div>'; return; }
    recent.forEach(o=>{
      const el = document.createElement('div');
      el.style.display='flex'; el.style.justifyContent='space-between'; el.style.alignItems='center';
      el.innerHTML = `<div style="font-weight:700">${o.package}</div><div class="small-muted">${o.status}</div>`;
      box.appendChild(el);
    });
  }

  /* ---------- Admin modal (pin) ---------- */
  function openAdminModal(){ document.getElementById('adminModal').style.display='flex'; document.getElementById('adminPin').value=''; document.getElementById('adminPin').focus(); }
  function closeAdminModal(){ document.getElementById('adminModal').style.display='none'; }
  function verifyPin(){
    const pin = document.getElementById('adminPin').value.trim();
    const REAL_PIN = 'admin123'; // option A
    if(pin === REAL_PIN){
      closeAdminModal();
      openAdminPage();
      showToast('Admin access granted');
    } else {
      alert('Invalid PIN');
    }
  }

  /* ---------- Admin Page ---------- */
  function openAdminPage(){
    document.body.style.overflow = 'auto';
    document.getElementById('adminPage').style.display='block';
    document.getElementById('adminPage').scrollIntoView({behavior:'smooth'});
    renderAdminTable();
  }
  function closeAdminPage(){ document.getElementById('adminPage').style.display='none'; }

  function renderAdminTable(){
    const tbody = document.getElementById('ordersTbody');
    tbody.innerHTML='';
    const statusFilter = document.getElementById('filterStatus') ? document.getElementById('filterStatus').value : 'All';
    const q = document.getElementById('searchBox') ? document.getElementById('searchBox').value.trim().toLowerCase() : '';

    let filtered = orders.slice();
    if(statusFilter !== 'All') filtered = filtered.filter(o => o.status === statusFilter);
    if(q){
      filtered = filtered.filter(o=>{
        return (o.name && o.name.toLowerCase().includes(q)) ||
               (o.phone && o.phone.toLowerCase().includes(q)) ||
               (o.package && o.package.toLowerCase().includes(q)) ||
               (o.txn && o.txn.toLowerCase().includes(q)) ||
               (o.link && o.link.toLowerCase().includes(q));
      });
    }

    if(filtered.length === 0){
      tbody.innerHTML = `<tr><td colspan="10" style="color:var(--muted);padding:18px;text-align:center">No orders found</td></tr>`;
      updateStats();
      return;
    }

    filtered.slice().reverse().forEach((o,i)=>{
      const tr = document.createElement('tr');
      const idx = orders.findIndex(x=>x.id===o.id)+1;
      tr.innerHTML = `
        <td>${idx}</td>
        <td>${escapeHtml(o.package)}</td>
        <td>à§³${o.price}</td>
        <td><a href="${escapeHtml(o.link)}" target="_blank" style="color:var(--accent1)">${escapeHtml(shorten(o.link,40))}</a></td>
        <td>${escapeHtml(o.txn)}</td>
        <td>${escapeHtml(o.name||'â€”')}</td>
        <td>${escapeHtml(o.phone||'â€”')}</td>
        <td><span class="chip ${o.status === 'Pending' ? 'pending' : (o.status === 'Completed' ? 'completed' : 'rejected')}">${o.status}</span></td>
        <td class="small-muted">${escapeHtml(o.created_at)}</td>
        <td class="actions-td">
          <button class="btn-ghost" onclick="changeStatus('${o.id}','Completed')">Done</button>
          <button class="btn-ghost" onclick="changeStatus('${o.id}','Pending')">Pending</button>
          <button class="btn-ghost" onclick="changeStatus('${o.id}','Rejected')">Reject</button>
        </td>
      `;
      tbody.appendChild(tr);
    });
    updateStats();
  }

  function changeStatus(id, newStatus){
    const idx = orders.findIndex(o=>o.id===id);
    if(idx === -1) return;
    orders[idx].status = newStatus;
    saveOrders();
    showToast('Status updated');
  }

  /* ---------- Utilities ---------- */
  function escapeHtml(s){ if(!s) return ''; return String(s).replace(/[&<>"'`]/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;','`':'&#96;'}[c])); }
  function shorten(s, n){ if(!s) return ''; return s.length>n ? s.slice(0,n-3)+'...' : s; }

  /* ---------- Export CSV ---------- */
  function exportCSV(){
    if(orders.length===0){ alert('No orders to export'); return; }
    const headers = ['id','package','price','link','txn','name','phone','status','created_at'];
    const rows = orders.map(o => headers.map(h => `"${(o[h]||'').toString().replace(/"/g,'""')}"`).join(','));
    const csv = [headers.join(','), ...rows].join('\n');
    const blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a'); a.href = url; a.download = `orders_${Date.now()}.csv`; a.click();
    URL.revokeObjectURL(url);
  }

  /* ---------- Clear all ---------- */
  function clearAllOrders(){
    if(!confirm('Are you sure? This will delete ALL orders from local storage.')) return;
    orders = [];
    saveOrders();
    showToast('All orders cleared');
  }

  /* ---------- Help ---------- */
  function showHelp(){
    alert('Instructions:\n1) Customer: select package â†’ enter profile link & txn â†’ Submit.\n2) Admin: Click Admin â†’ enter PIN (admin123) â†’ Manage orders.\n3) Orders saved in browser localStorage (demo). For production, connect to server DB.');
  }

  /* ---------- Init ---------- */
  (function(){ initUI(); })();

</script>
</body>
</html>